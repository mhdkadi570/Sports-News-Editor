<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…Ø­Ø±Ø± Ø£Ø®Ø¨Ø§Ø± ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… â€” API-SPORTS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background:#f8f9fa; }
    .card { border-radius: 1rem; }
    textarea { font-size: 1.06rem; line-height: 1.9; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace; }
    .spinner { display:inline-block; width:1.1rem; height:1.1rem; border:.18rem solid #ddd; border-top-color:#0d6efd; border-radius:50%; animation:spin 1s linear infinite; vertical-align:middle; }
    @keyframes spin { to { transform: rotate(360deg); } }
    code { direction:ltr; unicode-bidi:bidi-override; }
  </style>
</head>
<body class="p-3 p-md-4">

<div class="container">
  <h3 class="mb-3">ğŸ“° Ù…Ø­Ø±Ø± Ø£Ø®Ø¨Ø§Ø± Ù†ØªØ§Ø¦Ø¬ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…</h3>

  <!-- API & Date -->
  <div class="card shadow-sm mb-3">
    <div class="card-body">
      <div class="row g-3 align-items-end">
        <div class="col-md-3">
          <label class="form-label">Ø§Ù„Ù…Ø²ÙˆÙ‘Ø¯</label>
          <select id="provider" class="form-select">
            <option value="apisports" selected>API-SPORTS (Ù…ÙˆØµÙ‰ Ø¨Ù‡)</option>
            <option value="rapidapi">RapidAPI</option>
          </select>
          <div class="form-text">
            API-SPORTS: <code>https://v3.football.api-sports.io</code><br/>
            RapidAPI: <code>https://api-football-v1.p.rapidapi.com/v3</code>
          </div>
        </div>
        <div class="col-md-5">
          <label class="form-label">API Key</label>
          <input id="apiKey" class="form-control mono" type="password" placeholder="Ø£Ù„ØµÙ‚ Ù…ÙØªØ§Ø­Ùƒ Ù‡Ù†Ø§">
          <div class="form-text">API-SPORTS: Ø±Ø£Ø³ <code>x-apisports-key</code> â€” RapidAPI: Ø±Ø£Ø³ <code>x-rapidapi-key</code>.</div>
        </div>
        <div class="col-md-2">
          <label class="form-label">Ø§Ù„ÙŠÙˆÙ…</label>
          <select id="daySelect" class="form-select">
            <option value="today">Ø§Ù„ÙŠÙˆÙ…</option>
            <option value="yesterday">Ø§Ù„Ø£Ù…Ø³</option>
          </select>
        </div>
        <div class="col-md-2">
          <label class="form-label">ØªØ§Ø±ÙŠØ® (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <input id="dateManual" type="date" class="form-control">
          <div class="form-text">ÙŠÙØ¶Ù„ ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºÙ‹Ø§ ÙˆØ§Ù„Ø§ÙƒØªÙØ§Ø¡ Ø¨Ø§Ù„ÙŠÙˆÙ…/Ø§Ù„Ø£Ù…Ø³.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- League & Matches -->
  <div class="card shadow-sm mb-3">
    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Ø§Ù„Ø¯ÙˆØ±ÙŠ (Ù‚Ø§Ø¦Ù…Ø© Ø¬Ø§Ù‡Ø²Ø©)</label>
          <select id="leagueSelect" class="form-select">
            <!-- Ø£Ø´Ù‡Ø± Ø§Ù„Ø¯ÙˆØ±ÙŠØ§Øª (API-FOOTBALL IDs) -->
            <option value="39">Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø§Ù„Ù…Ù…ØªØ§Ø² (39)</option>
            <option value="140">Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ (140)</option>
            <option value="135">Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠ (135)</option>
            <option value="78">Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ (78)</option>
            <option value="61">Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„ÙØ±Ù†Ø³ÙŠ (61)</option>
            <option value="2">Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ (2)</option>
            <option value="3">Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ (3)</option>
          </select>
          <div class="form-text">ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ Ø¥Ø¯Ø®Ø§Ù„ League ID ÙŠØ¯ÙˆÙŠÙ‹Ø§ Ø¨Ø§Ù„Ø£Ø³ÙÙ„.</div>
        </div>
        <div class="col-md-6">
          <label class="form-label">League ID (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <input id="leagueIdManual" class="form-control mono" type="text" placeholder="Ù…Ø«Ø§Ù„: 39 â€” Ø¥Ù† Ø£Ø¯Ø®Ù„ØªÙ‡ Ø³ÙŠØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£Ø¹Ù„Ø§Ù‡">
        </div>
      </div>

      <div class="row g-3 mt-1 align-items-end">
        <div class="col-md-8">
          <label class="form-label">Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</label>
          <select id="matchSelect" class="form-select">
            <option value="">â€” Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø«Ù… Ø§Ø¶ØºØ· Â«ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§ØªÂ» â€”</option>
          </select>
        </div>
        <div class="col-md-4 d-grid">
          <button id="loadMatchesBtn" class="btn btn-primary">ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</button>
        </div>
      </div>

      <div id="statusArea" class="mt-3 text-muted small"></div>
    </div>
  </div>

  <!-- Controls & Output -->
  <div class="card shadow-sm">
    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-4">
          <label class="form-label">Ù„ØºØ© Ø§Ù„Ø¬ÙˆÙ„Ø©</label>
          <select id="roundLang" class="form-select">
            <option value="arabic" selected>Ø¹Ø±Ø¨ÙŠ (Ø§Ù„Ø¬ÙˆÙ„Ø© 7)</option>
            <option value="raw">ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ù€ API</option>
          </select>
        </div>
        <div class="col-md-8 d-grid d-md-flex gap-2">
          <button id="generateBtn" class="btn btn-success flex-fill" disabled>âœï¸ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®Ø¨Ø±</button>
          <button id="rephraseBtn" class="btn btn-outline-primary flex-fill" disabled>ğŸ” ØºÙŠÙ‘Ø± Ø§Ù„ØµÙŠØ§ØºØ©</button>
          <button id="copyBtn" class="btn btn-outline-dark flex-fill" disabled>ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†Øµ</button>
          <button id="clearBtn" class="btn btn-outline-danger flex-fill">ğŸ§¹ Ù…Ø³Ø­</button>
        </div>
      </div>

      <div class="mt-3">
        <label class="form-label">Ø§Ù„Ù†Øµ Ø§Ù„Ø¥Ø®Ø¨Ø§Ø±ÙŠ</label>
        <textarea id="newsOutput" rows="12" class="form-control" placeholder="Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ø®Ø¨Ø± Ù‡Ù†Ø§..."></textarea>
      </div>
    </div>
  </div>

  <div class="text-muted small mt-3">
    **Ù…Ù„Ø§Ø­Ø¸Ø© Ø£Ù…Ø§Ù†**: Ø§Ø¬Ø¹Ù„ Ø§Ù„Ù…ÙØªØ§Ø­ Ù…Ù‚ÙŠÙ‘Ø¯Ù‹Ø§ Ø¹Ù„Ù‰ Ù†Ø·Ø§Ù‚ GitHub Pages Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† Ù„ÙˆØ­Ø© API-FOOTBALL.
  </div>
</div>

<script>
/* ========== Helpers ========== */
const HOSTS = {
  apisports: "https://v3.football.api-sports.io",
  rapidapi: "https://api-football-v1.p.rapidapi.com/v3"
};
const $ = id => document.getElementById(id);
function setStatus(html){ $("statusArea").innerHTML = html || ""; }
function fmtNum(n){ return new Intl.NumberFormat('ar-EG').format(n); }
function minuteArabic(m){ const x=parseInt(m,10); return isNaN(x)?`Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© ${m}`:`Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© ${fmtNum(x)}`; }
function toArabicRound(roundStr){
  if(!roundStr) return "";
  const m = roundStr.match(/-\s*(\d+)/);
  return m ? `Ø§Ù„Ø¬ÙˆÙ„Ø© ${m[1]}` : roundStr;
}
function getHost(){ return HOSTS[$("provider").value] || HOSTS.apisports; }
function getHeaders(){
  const key = $("apiKey").value.trim();
  if(!key) throw new Error("ÙŠØ±Ø¬Ù‰ Ù„ØµÙ‚ API Key.");
  return ($("provider").value==="apisports")
    ? { "x-apisports-key": key }
    : { "x-rapidapi-key": key, "x-rapidapi-host": "api-football-v1.p.rapidapi.com" };
}
function getLeagueId(){ return $("leagueIdManual").value.trim() || $("leagueSelect").value; }
function getYMD(){
  const manual = $("dateManual").value;
  if (manual) return manual; // YYYY-MM-DD
  const d = new Date();
  if ($("daySelect").value === "yesterday") d.setDate(d.getDate()-1);
  return d.toISOString().slice(0,10);
}
async function httpGet(path, {timeoutMs=12000}={}){
  const controller = new AbortController();
  const timer = setTimeout(()=>controller.abort(), timeoutMs);
  try{
    const res = await fetch(getHost()+path, { headers: getHeaders(), signal: controller.signal });
    if(!res.ok){
      const txt = await res.text();
      throw new Error(`HTTP ${res.status}: ${txt}`);
    }
    return await res.json();
  }catch(e){
    if(e.name==="AbortError") throw new Error("Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø©. Ø£Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©.");
    throw e;
  }finally{ clearTimeout(timer); }
}

/* ========== Smart Fixtures Fetch ========== */
async function tryFixtures(urls) {
  let lastUrl = "", lastErr = null;
  for (const u of urls) {
    try {
      const data = await httpGet(u);
      const arr = data.response || [];
      if (arr.length) return { ok: true, url: u, fixtures: arr };
      lastUrl = u;
    } catch (e) { lastUrl = u; lastErr = e; }
  }
  return { ok: false, url: lastUrl, fixtures: [], err: lastErr };
}

/* ========== Load Matches ========== */
document.getElementById("loadMatchesBtn").onclick = async () => {
  const leagueId = getLeagueId();
  if(!leagueId){ alert("Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø£Ùˆ Ø£Ø¯Ø®Ù„ League ID."); return; }
  const ymd = getYMD();

  setStatus(`Ø¬Ù„Ø¨ Ù…Ø¨Ø§Ø±ÙŠØ§Øª ${ymd} Ù„Ù„Ø¯ÙˆØ±ÙŠ ${leagueId}â€¦ <span class="spinner"></span>`);
  $("matchSelect").innerHTML = `<option>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</option>`;
  $("generateBtn").disabled = true;

  const urls = [
    `/fixtures?league=${encodeURIComponent(leagueId)}&date=${ymd}&timezone=Asia/Qatar`,
    `/fixtures?league=${encodeURIComponent(leagueId)}&date=${ymd}`,
    `/fixtures?league=${encodeURIComponent(leagueId)}&from=${ymd}T00:00&to=${ymd}T23:59&timezone=Asia/Qatar`,
    `/fixtures?from=${ymd}T00:00&to=${ymd}T23:59&timezone=Asia/Qatar`
  ];
  const res = await tryFixtures(urls);

  let fixtures = res.fixtures;
  if (res.ok && res.url.startsWith("/fixtures?from=")) {
    // Ø¢Ø®Ø± Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙˆÙ† league â†’ Ø±Ø´Ù‘Ø­ Ù…Ø­Ù„ÙŠÙ‹Ø§
    fixtures = fixtures.filter(f => String(f.league?.id) === String(leagueId));
  }

  if (!res.ok || !fixtures.length) {
    setStatus(`<span class="text-danger">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø­Ø³Ø¨ Ù…Ø¯Ø®Ù„Ø§ØªÙƒ. Ø¢Ø®Ø± Ù…Ø­Ø§ÙˆÙ„Ø©: <code>${res.url || "â€”"}</code>${res.err ? " â€” " + res.err : ""}</span>`);
    $("matchSelect").innerHTML = `<option value="">Ù„Ø§ Ù…Ø¨Ø§Ø±ÙŠØ§Øª</option>`;
    return;
  }

  $("matchSelect").innerHTML = "";
  fixtures.forEach(f => {
    const opt = document.createElement("option");
    opt.value = JSON.stringify({
      fixtureId: f.fixture.id,
      leagueId: leagueId,
      season: f.league?.season,
      homeId: f.teams?.home?.id,
      awayId: f.teams?.away?.id
    });
    opt.textContent = `${f.teams.home.name} Ø¶Ø¯ ${f.teams.away.name} â€” ${(f.goals.home ?? "")}:${(f.goals.away ?? "")}`;
    $("matchSelect").appendChild(opt);
  });

  $("generateBtn").disabled = false;
  setStatus(`ØªÙ… ØªØ­Ù…ÙŠÙ„ ${fixtures.length} Ù…Ø¨Ø§Ø±Ø§Ø©. (Ø§Ù„Ù…ØµØ¯Ø±: <code>${res.url}</code>)`);
};

/* ========== News Generation ========== */
let lastPayload = null, templateIdx = 0;

function buildReport(p){
  const round = ($("roundLang").value === "arabic") ? toArabicRound(p.roundStr) : p.roundStr;

  const goalsLine = p.goals.length
    ? "Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ø¬Ø§Ø¡Øª Ø¹Ø¨Ø±: " + p.goals.map(g => `${g.player} (${g.team}) ÙÙŠ ${minuteArabic(g.minute)}`).join(" / ") + "."
    : "";

  const redsLine = p.reds.length
    ? "ÙˆØ´Ù‡Ø¯ Ø§Ù„Ù„Ù‚Ø§Ø¡ Ø­Ø§Ù„Ø§Øª Ø·Ø±Ø¯: " + p.reds.map(r => `${r.player} (${r.team}) ÙÙŠ ${minuteArabic(r.minute)}`).join(" / ") + "."
    : "";

  const outcome = (p.homeGoals>p.awayGoals) ? "Ø§Ù†ØªØµØ±" : (p.homeGoals<p.awayGoals) ? "Ø®Ø³Ø±" : "ØªØ¹Ø§Ø¯Ù„";

  const leadVariants = [
    ()=>`${p.home} ${outcome==="Ø§Ù†ØªØµØ±"?"Ø­ØµØ¯":outcome==="Ø®Ø³Ø±"?"ÙØ´Ù„ ÙÙŠ Ù†ÙŠÙ„":"Ø§Ù‚ØªØ³Ù…"} Ø§Ù„Ù†Ù‚Ø§Ø· Ø£Ù…Ø§Ù… ${p.away} Ø¶Ù…Ù† ${p.league}${round? " ÙÙŠ "+round:""}ØŒ ÙˆØ§Ù†ØªÙ‡Øª Ø§Ù„Ù…ÙˆØ§Ø¬Ù‡Ø© Ø¨Ù†ØªÙŠØ¬Ø© ${p.homeGoals}â€“${p.awayGoals}.`,
    ()=>`Ø¶Ù…Ù† ${p.league}${round? " ("+round+")": ""}ØŒ ÙØ±Ø¶Øª Ù†ØªÙŠØ¬Ø© ${p.homeGoals}â€“${p.awayGoals} ÙƒÙ„Ù…ØªÙ‡Ø§ ÙÙŠ Ù…ÙˆØ§Ø¬Ù‡Ø© ${p.home} Ù…Ø¹ ${p.away}.`,
    ()=>`Ø­Ù…Ù„Øª Ù…ÙˆØ§Ø¬Ù‡Ø© ${p.home} Ùˆ${p.away} ÙÙŠ ${p.league}${round? " â€” "+round:""} Ø¥Ø«Ø§Ø±Ø© ÙƒØ¨ÙŠØ±Ø©ØŒ ÙˆØ§Ù†ØªÙ‡Øª Ø¹Ù„Ù‰ ÙˆÙ‚Ø¹ ${p.homeGoals}â€“${p.awayGoals}.`
  ];
  const midVariants = [
    ()=>goalsLine,
    ()=> goalsLine || "Ù„Ù… ØªÙØ³Ø¬Ù‘Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙÙŠ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©.",
    ()=> [goalsLine, redsLine].filter(Boolean).join(" ")
  ];
  const tailVariants = [
    ()=>`ÙˆÙÙŠ Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ±ØªÙŠØ¨ØŒ ÙŠØªÙ…ÙˆØ¶Ø¹ ${p.home} ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ² ${fmtNum(p.homePos)} Ø¨ÙŠÙ†Ù…Ø§ ÙŠØ­ØªÙ„ ${p.away} Ø§Ù„Ù…Ø±ØªØ¨Ø© ${fmtNum(p.awayPos)}.`,
    ()=>`ØªØ±ØªÙŠØ¨ÙŠÙ‹Ø§: ${p.home} (${fmtNum(p.homePos)}) Ùˆ${p.away} (${fmtNum(p.awayPos)}).`,
    ()=>`Ø¹Ù„Ù‰ ØµØ¹ÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙˆÙ„ØŒ ${p.home} ${p.homePos} Ù…Ù‚Ø§Ø¨Ù„ ${p.awayPos} Ù„Ù€${p.away}.`
  ];

  return [
    leadVariants[templateIdx % leadVariants.length](),
    midVariants[templateIdx % midVariants.length](),
    (redsLine && templateIdx % 2 === 1) ? "" : redsLine,
    tailVariants[templateIdx % tailVariants.length]()
  ].filter(Boolean).join("\n");
}

document.getElementById("generateBtn").onclick = async () => {
  const sel = $("matchSelect").value;
  if(!sel){ alert("Ø§Ø®ØªØ± Ù…Ø¨Ø§Ø±Ø§Ø©."); return; }
  const { fixtureId, leagueId, season, homeId, awayId } = JSON.parse(sel);
  setStatus(`Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© ${fixtureId}â€¦ <span class="spinner"></span>`);

  try{
    const fxData = await httpGet(`/fixtures?id=${fixtureId}`);
    const fx = fxData.response?.[0];
    if(!fx) throw new Error("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø¨Ø§Ø±Ø§Ø©.");

    const leagueName = fx.league?.name || "Ø§Ù„Ø¯ÙˆØ±ÙŠ";
    const roundStr   = fx.league?.round || "";
    const homeName   = fx.teams?.home?.name || "Ø§Ù„Ù…Ø¶ÙŠÙ";
    const awayName   = fx.teams?.away?.name || "Ø§Ù„Ø¶ÙŠÙ";
    const homeGoals  = fx.goals?.home ?? 0;
    const awayGoals  = fx.goals?.away ?? 0;

    const evData = await httpGet(`/fixtures/events?fixture=${fixtureId}`);
    const ev = evData.response || [];
    const goals = ev.filter(e => e.type === "Goal").map(e => ({
      player: e.player?.name || "ØºÙŠØ± Ù…Ø¹Ù„ÙˆÙ…",
      team: e.team?.name || "",
      minute: e.time?.elapsed ?? ""
    }));
    const reds = ev.filter(e => e.detail === "Red Card").map(e => ({
      player: e.player?.name || "ØºÙŠØ± Ù…Ø¹Ù„ÙˆÙ…",
      team: e.team?.name || "",
      minute: e.time?.elapsed ?? ""
    }));

    const stData = await httpGet(`/standings?league=${leagueId}&season=${season}`);
    const groups = stData.response?.[0]?.league?.standings || [];
    const table  = [].concat(...groups);
    const homePos = table.find(r => r.team?.id === (homeId || fx.teams?.home?.id))?.rank ?? "â€”";
    const awayPos = table.find(r => r.team?.id === (awayId || fx.teams?.away?.id))?.rank ?? "â€”";

    lastPayload = {
      league: leagueName, roundStr,
      home: homeName, away: awayName,
      homeGoals, awayGoals,
      goals, reds, homePos, awayPos
    };
    templateIdx = 0;
    $("newsOutput").value = buildReport(lastPayload);
    $("rephraseBtn").disabled = false;
    $("copyBtn").disabled = false;
    setStatus("ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®Ø¨Ø±.");
  }catch(e){
    setStatus(`<span class="text-danger">ÙØ´Ù„ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®Ø¨Ø±: ${e.message}</span>`);
  }
};

document.getElementById("rephraseBtn").onclick = () => { if(lastPayload){ templateIdx++; $("newsOutput").value = buildReport(lastPayload); } };
document.getElementById("copyBtn").onclick = async () => {
  try{ await navigator.clipboard.writeText($("newsOutput").value); setStatus("âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ"); }
  catch{ alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ù†Ø³Ø® ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§. Ø§Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠÙ‹Ø§."); }
};
document.getElementById("clearBtn").onclick = () => { $("newsOutput").value=""; setStatus(""); };
</script>
</body>
</html>
